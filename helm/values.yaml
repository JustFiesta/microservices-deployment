# Global setting for all microservices
# Modify these values as per your deployment requirements in specific file (eg. values-dev.yaml)
# eg. registry, project, default image tag, ingress, etc.

global:
  image:
    registry: "910681227783.dkr.ecr.eu-west-1.amazonaws.com"
    project: "mbocak-microservices-demo"
    tag: "dev"
    pullPolicy: IfNotPresent

  ingress:
    enabled: true
    className: "nginx"
    host: "" # catch all, override in environment specific values files
    annotations: {}
      # Example AWS Load Balancer annotations (uncomment if needed):
      # service.beta.kubernetes.io/aws-load-balancer-type: "nlb"
      # service.beta.kubernetes.io/aws-load-balancer-scheme: "internet-facing"
      # service.beta.kubernetes.io/aws-load-balancer-cross-zone-load-balancing-enabled: "true"
      # Example NGINX Ingress annotations:
      # nginx.ingress.kubernetes.io/ssl-redirect: "false"
      # nginx.ingress.kubernetes.io/force-ssl-redirect: "false"
      # nginx.ingress.kubernetes.io/rewrite-target: /

adservice:
  enabled: true
  replicaCount: 1
  image:
    name: adservice
  port: 9555
  resources:
    requests:
      cpu: 200m
      memory: 180Mi
    limits:
      cpu: 300m
      memory: 300Mi

cartservice:
  enabled: true
  replicaCount: 1
  image:
    name: cartservice
  port: 7070
  redis:
    addr: "redis-cart:6379"
  resources:
    requests:
      cpu: 200m
      memory: 64Mi
    limits:
      cpu: 300m
      memory: 128Mi

checkoutservice:
  enabled: true
  replicaCount: 1
  image:
    name: checkoutservice
  port: 5050
  resources:
    requests:
      cpu: 100m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

currencyservice:
  enabled: true
  replicaCount: 1
  image:
    name: currencyservice
  port: 7000
  resources:
    requests:
      cpu: 100m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

emailservice:
  enabled: true
  replicaCount: 1
  image:
    name: emailservice
  port: 8080
  resources:
    requests:
      cpu: 100m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

frontend:
  enabled: true
  replicaCount: 1
  image:
    name: frontend
  port: 8080
  resources:
    requests:
      cpu: 100m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

loadgenerator:
  enabled: false
  image:
    name: loadgenerator
  resources:
    requests:
      cpu: 300m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

paymentservice:
  enabled: true
  replicaCount: 1
  image:
    name: paymentservice
  port: 50051
  resources:
    requests:
      cpu: 100m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

productcatalogservice:
  enabled: true
  replicaCount: 1
  image:
    name: productcatalogservice
  port: 3550
  resources:
    requests:
      cpu: 100m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

recommendationservice:
  enabled: true
  replicaCount: 1
  image:
    name: recommendationservice
  port: 8080
  resources:
    requests:
      cpu: 100m
      memory: 220Mi
    limits:
      cpu: 200m
      memory: 450Mi

shippingservice:
  enabled: true
  replicaCount: 1
  image:
    name: shippingservice
  port: 50051
  resources:
    requests:
      cpu: 100m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

shoppingassistantservice:
  enabled: true
  replicaCount: 1
  image:
    name: shoppingassistantservice
  port: 8080
  resources:
    requests:
      cpu: 100m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

redis:
  enabled: true
  replicaCount: 1
  image:
    repository: redis
    tag: alpine
    pullPolicy: IfNotPresent
  port: 6379
  resources:
    requests:
      cpu: 70m
      memory: 200Mi
    limits:
      cpu: 125m
      memory: 256Mi
  persistence:
    enabled: false
